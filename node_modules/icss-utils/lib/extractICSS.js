"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
<<<<<<< HEAD
var importPattern = /^:import\(("[^"]*"|'[^']*'|[\w-\.]+)\)$/;

var getDeclsObject = function getDeclsObject(rule) {
  var object = {};
  rule.walkDecls(function (decl) {
    object[decl.raws.before.trim() + decl.prop] = decl.value;
=======
exports.default = void 0;
const importPattern = /^:import\(("[^"]*"|'[^']*'|[^"']+)\)$/;

const getDeclsObject = rule => {
  const object = {};
  rule.walkDecls(decl => {
    const before = decl.raws.before ? decl.raws.before.trim() : "";
    object[before + decl.prop] = decl.value;
>>>>>>> joan
  });
  return object;
};

<<<<<<< HEAD
var extractICSS = function extractICSS(css) {
  var removeRules = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

  var icssImports = {};
  var icssExports = {};
  css.each(function (node) {
    if (node.type === "rule") {
      if (node.selector.slice(0, 7) === ":import") {
        var matches = importPattern.exec(node.selector);
        if (matches) {
          var path = matches[1];
          var aliases = Object.assign(icssImports[path] || {}, getDeclsObject(node));
          icssImports[path] = aliases;
=======
const extractICSS = (css, removeRules = true) => {
  const icssImports = {};
  const icssExports = {};
  css.each(node => {
    if (node.type === "rule") {
      if (node.selector.slice(0, 7) === ":import") {
        const matches = importPattern.exec(node.selector);

        if (matches) {
          const path = matches[1].replace(/'|"/g, "");
          icssImports[path] = Object.assign(icssImports[path] || {}, getDeclsObject(node));

>>>>>>> joan
          if (removeRules) {
            node.remove();
          }
        }
      }
<<<<<<< HEAD
      if (node.selector === ":export") {
        Object.assign(icssExports, getDeclsObject(node));
=======

      if (node.selector === ":export") {
        Object.assign(icssExports, getDeclsObject(node));

>>>>>>> joan
        if (removeRules) {
          node.remove();
        }
      }
    }
  });
<<<<<<< HEAD
  return { icssImports, icssExports };
};

exports.default = extractICSS;
=======
  return {
    icssImports,
    icssExports
  };
};

var _default = extractICSS;
exports.default = _default;
>>>>>>> joan
